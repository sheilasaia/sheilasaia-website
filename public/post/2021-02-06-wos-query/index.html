<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="generator" content="Source Themes Academic 3.2.0">
  <meta name="generator" content="Hugo 0.50" />
  <meta name="author" content="sheila m. saia, PhD">

  
  
  
  
    
  
  <meta name="description" content="Background A few years ago, I opened up my email to find journal rejection notice for a review paper that I had submitted a few months prior. I had adapted this review from the introductory chapter of my PhD thesis. Over the course of the last year, I had recieved a rejection email from one journal, completely overhauled the paper, and resubmitted it to a second journal. My first thoughts upon opening the journal rejection notice went to frustration.">

  
  <link rel="alternate" hreflang="en-us" href="/post/2021-02-06-wos-query/">

  


  

  

  

  

  

  

  
  
  
  <meta name="theme-color" content="#3f51b5">
  

  
  
  
  
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha256-eSi1q2PG6J7g7ib17yAaWMcrr5GrtohYChqibrV7PBE=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css" integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.0/css/all.css" integrity="sha384-aOkxzJ5uQz7WBObEZcHvV5JvRW3TUc2rNPA7pe3AwnsUohiw1Vj2Rgx2KSOkF5+h" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" integrity="sha256-ygkqlh3CYSUri3LhQxzdcm0n1EQvH2Y+U5S2idbLtxs=" crossorigin="anonymous">

    
    
    
      
    
    
      
      
        
          <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" crossorigin="anonymous">
        
      
    

    

    

  

  
  
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Montserrat:400,700|Roboto:400,400italic,700|Roboto+Mono">
  

  <link rel="stylesheet" href="/styles.css">
  

  
  
  

  
  <link rel="alternate" href="/index.xml" type="application/rss+xml" title=" ">
  <link rel="feed" href="/index.xml" type="application/rss+xml" title=" ">
  

  <link rel="manifest" href="/site.webmanifest">
  <link rel="icon" type="image/png" href="/img/icon.png">
  <link rel="apple-touch-icon" type="image/png" href="/img/icon-192.png">

  <link rel="canonical" href="/post/2021-02-06-wos-query/">

  
  
  
  
    
    
  
  <meta property="twitter:card" content="summary">
  
  <meta property="og:site_name" content=" ">
  <meta property="og:url" content="/post/2021-02-06-wos-query/">
  <meta property="og:title" content="Web of Science Queries in R |  ">
  <meta property="og:description" content="Background A few years ago, I opened up my email to find journal rejection notice for a review paper that I had submitted a few months prior. I had adapted this review from the introductory chapter of my PhD thesis. Over the course of the last year, I had recieved a rejection email from one journal, completely overhauled the paper, and resubmitted it to a second journal. My first thoughts upon opening the journal rejection notice went to frustration."><meta property="og:image" content="/img/sheila_portrait_cartoon.png">
  <meta property="og:locale" content="en-us">
  
  <meta property="article:published_time" content="2022-02-10T00:00:00&#43;00:00">
  
  <meta property="article:modified_time" content="2022-02-10T00:00:00&#43;00:00">
  

  

  

  <title>Web of Science Queries in R |  </title>

</head>
<body id="top" data-spy="scroll" data-target="#TableOfContents" data-offset="71" >
  <aside class="search-results" id="search">
  <div class="container">
    <section class="search-header">

      <div class="row no-gutters justify-content-between mb-3">
        <div class="col-6">
          <h1>Search</h1>
        </div>
        <div class="col-6 col-search-close">
          <a class="js-search" href="#"><i class="fas fa-times-circle text-muted" aria-hidden="true"></i></a>
        </div>
      </div>

      <div id="search-box">
        
        
        
      </div>

    </section>
    <section class="section-search-results">

      <div id="search-hits">
        
      </div>

    </section>
  </div>
</aside>


<nav class="navbar navbar-light fixed-top navbar-expand-lg py-0" id="navbar-main">
  <div class="container">

    
      <a class="navbar-brand" href="/"> </a>
      
      <button type="button" class="navbar-toggler" data-toggle="collapse"
              data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
        <span><i class="fas fa-bars"></i></span>
      </button>
      

    
    <div class="collapse navbar-collapse" id="navbar">

      
      
      <ul class="navbar-nav ml-auto">
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#about">
            
            <span>home</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#posts">
            
            <span>wateR blog</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#projects">
            
            <span>projects</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#publications">
            
            <span>publications</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#talks">
            
            <span>talks</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#teaching">
            
            <span>teaching</span>
            
          </a>
        </li>

        
        

        

        
        
        
          
        

        <li class="nav-item">
          <a class="nav-link" href="/#contact">
            
            <span>contact</span>
            
          </a>
        </li>

        
        

      

        

        

        

        
        <li class="nav-item">
          <a class="nav-link js-dark-toggle" href="#"><i class="fas fa-moon" aria-hidden="true"></i></a>
        </li>
        

      </ul>

    </div>
  </div>
</nav>


<article class="article" itemscope itemtype="http://schema.org/Article">

  












  

  
  
  
<div class="article-container pt-3">
  <h1 itemprop="name">Web of Science Queries in R</h1>

  

  
    

<div class="article-metadata">

  
  
  <span itemscope itemprop="author" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="sheila m. saia, PhD">
  </span>
  

  <span class="article-date">
    
    <meta content="2022-02-10 00:00:00 &#43;0000 UTC" itemprop="datePublished">
    <time datetime="2022-02-10 00:00:00 &#43;0000 UTC" itemprop="dateModified">
      2022-02-10
    </time>
  </span>
  <span itemscope itemprop="publisher" itemtype="http://schema.org/Person">
    <meta itemprop="name" content="sheila m. saia, PhD">
  </span>

  
  <span class="middot-divider"></span>
  <span class="article-reading-time">
    5 min read
  </span>
  

  
  

  
  
  
  <span class="middot-divider"></span>
  <span class="article-categories">
    <i class="fas fa-folder"></i>
    
    <a href="/categories/r/">R</a>
    
  </span>
  
  

  
  
<div class="share-box" aria-hidden="true">
  <ul class="share">
    <li>
      <a class="twitter"
         href="https://twitter.com/intent/tweet?text=Web%20of%20Science%20Queries%20in%20R&amp;url=%2fpost%2f2021-02-06-wos-query%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-twitter"></i>
      </a>
    </li>
    <li>
      <a class="facebook"
         href="https://www.facebook.com/sharer.php?u=%2fpost%2f2021-02-06-wos-query%2f"
         target="_blank" rel="noopener">
        <i class="fab fa-facebook-f"></i>
      </a>
    </li>
    <li>
      <a class="linkedin"
         href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2fpost%2f2021-02-06-wos-query%2f&amp;title=Web%20of%20Science%20Queries%20in%20R"
         target="_blank" rel="noopener">
        <i class="fab fa-linkedin-in"></i>
      </a>
    </li>
    <li>
      <a class="weibo"
         href="http://service.weibo.com/share/share.php?url=%2fpost%2f2021-02-06-wos-query%2f&amp;title=Web%20of%20Science%20Queries%20in%20R"
         target="_blank" rel="noopener">
        <i class="fab fa-weibo"></i>
      </a>
    </li>
    <li>
      <a class="email"
         href="mailto:?subject=Web%20of%20Science%20Queries%20in%20R&amp;body=%2fpost%2f2021-02-06-wos-query%2f">
        <i class="fas fa-envelope"></i>
      </a>
    </li>
  </ul>
</div>


  

</div>

    















  
</div>



  <div class="article-container">

    <div class="article-style" itemprop="articleBody">
      


<div id="background" class="section level1">
<h1>Background</h1>
<p>A few years ago, I opened up my email to find journal rejection notice for a review paper that I had submitted a few months prior. I had adapted this review from the introductory chapter of my PhD thesis. Over the course of the last year, I had recieved a rejection email from one journal, completely overhauled the paper, and resubmitted it to a second journal. My first thoughts upon opening the journal rejection notice went to frustration. After all that work, the review paper had been rejected a second time by a different journal. After talking to my collaborators and mentors (Thank you, Drs. Jim Vose, Ryan Emanuel, Tony Buda, Hunter Carrick, and Jay Regan!), they told me to stick with it. They said I had something, but I needed to look a little deeper and maybe try a new approach. Paraphrasing Dr. Ryan Emanuel’s advice, I could use the feedback from reviewers to pinpiont where I revised the paper and further clarify my message. What were the reviewers confused by and why?</p>
<p>Taking a step back, I wondered whether I could put my R coding skills to work for this review paper. There had to be a way to pull keyword search queries into R from Web of Science (WoS). After some Googling, I stumbled across the <code>rwos</code> package and decided a meta-analysis might help me (1) learn more about the different disciplines publishing on the topic I was interested in (i.e., microbial phosphorus cycling in the environment) and (2) whether there was overlap (i.e., interdiciplinary research) happening amongst them.</p>
<p>That said, the code used in this blog post was adapted from a meta-analysis that was recently published in the journal <em>Environmental Science &amp; Technology</em>. If you’re interested, you can <a href="https://github.com/sheilasaia/paper-pao-review">see the associated code here</a> and <a href="https://eartharxiv.org/repository/view/1132/">read the study here</a>.</p>
<p>If you’re interested in writing a review paper or doing a meta-analysis, I recommend the following resources for help and inspiration.</p>
<ul>
<li><a href="https://acsess.onlinelibrary.wiley.com/doi/full/10.2134/csa2019.64.0115"><em>How to Write a Review Paper</em></a> by Gregorich (2019)</li>
<li><a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/hyp.11253"><em>The Role of Meta-Analysis in Hydrology</em></a> by Evaristo and McDonnell (2017)</li>
<li><a href="https://journals.plos.org/ploscompbiol/article?id=10.1371/journal.pcbi.1003149"><em>Ten Simple Rules for Writing a Literature Review</em></a> by Pautasso (2013)</li>
<li><a href="https://www.goodreads.com/book/show/13122323-writing-science"><em>Writing Science: How to Write Papers That Get Cited and Proposals That Get Funded</em></a> by Schimel (2012)</li>
</ul>
</div>
<div id="goals-of-this-post" class="section level1">
<h1>Goals of This Post</h1>
<p>The main goal of this blog post is to:</p>
<ul>
<li>Use the <code>rwos</code> package to query the <a href="https://login.webofknowledge.com/error/Error?Error=IPError&amp;PathInfo=%2F&amp;RouterURL=https%3A%2F%2Fwww.webofknowledge.com%2F&amp;Domain=.webofknowledge.com&amp;Src=IP&amp;Alias=WOK5">Web of Science (WoS) scholarly database</a> in R.</li>
</ul>
<p>Being able to query WoS, view outputs, and analyze those outputs in R can simplify literature reviews and meta-analyses. Specifically, it can be tedious to click through WoS query results. Also, this approach requires meticulous note taking to ensure reproducibility. Doing WoS queries in R is more efficient <em>and</em> reproducible. Win win!</p>
<p>Special thanks to my literaure review collaborators for sticking with me/the paper through all those drafts and <a href="https://github.com/juba">Julien Barnier</a> for creating the <code>rwos</code> package.</p>
</div>
<div id="set-up" class="section level1">
<h1>Set Up</h1>
<p>First load the <code>tidyverse</code> package, which we’ll use for data wrangling and plotting. If you’ve never used <code>tidyverse</code> before, you’ll have to install it to your computer first by typing <code>install.packages("tidyverse")</code> into the R console.</p>
<pre class="r"><code>library(tidyverse)</code></pre>
<pre><code>## ── Attaching packages ────────────────────────────────────────────────────────────────────────────────────── tidyverse 1.3.0 ──</code></pre>
<pre><code>## ✓ ggplot2 3.3.1     ✓ purrr   0.3.4
## ✓ tibble  3.0.1     ✓ dplyr   1.0.0
## ✓ tidyr   1.1.0     ✓ stringr 1.4.0
## ✓ readr   1.3.1     ✓ forcats 0.5.0</code></pre>
<pre><code>## ── Conflicts ───────────────────────────────────────────────────────────────────────────────────────── tidyverse_conflicts() ──
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<p>Next we’ll load the <code>rwos</code> package, which allows us to access the WoS API and query this API using R. You can read more about this package <a href="https://github.com/juba/rwos">here</a>. If you’re interested in learning more about request APIs, see <a href="https://sheilasaia.rbind.io/post/2019-01-04-nass-api/">my previous post</a> on this topic.</p>
<p><em>NOTE:</em> There are two main caveats with the <code>rwos</code> package. First, the R package is <strong>no longer being maintained</strong>; there’s no support to fix issues or improve the package. Second, you have to run this script from an IP address (i.e., university computer or wifi network) that has a WoS database subscription. For example, if I run this script from my house (using a non-NC State University IP address or wifi network), I will get the following error when trying to authenticate the WoS session.</p>
<blockquote>
<p>Error in wos_authenticate( ) : Authentication error : No matches returned for IP ###.###.##.##</p>
</blockquote>
<p>If you get this error while you’re working at your institution may not have a subscription to Web of Science. If you know you have a subscription, then I’d recommend reaching out to your information technologies office staff.</p>
<p>The <code>rwos</code> package has to be installed directly from GitHub, and we’ll do that using the <code>devtools</code> package. Once <code>devtools</code> is installed, we can use it to install <code>rwos</code>.</p>
<pre class="r"><code># install devtools
install.packages(&quot;devtools&quot;)

# install rwos
devtools::install_github(&quot;juba/rwos&quot;)</code></pre>
<p>The last step is to load <code>rwos</code>.</p>
<pre class="r"><code># load rwos
library(rwos)</code></pre>
</div>
<div id="setting-up-our-connection-to-the-wos-api" class="section level1">
<h1>Setting Up Our Connection to the WoS API</h1>
<p>Setting up a connection to the WoS API requires getting a session identifier. To do this we’ll use the <code>wos_authenticate()</code> function as show below.</p>
<p><em>NOTE:</em></p>
<pre class="r"><code># get session id
session_id &lt;- wos_authenticate()</code></pre>
</div>
<div id="searching-for-wos" class="section level1">
<h1>Searching for WoS</h1>
</div>
<div id="retrieving-publication-information-from-wos-after-searching" class="section level1">
<h1>Retrieving Publication Information from WoS (After Searching)</h1>
</div>
<div id="tidying-up-wos-query-results" class="section level1">
<h1>Tidying Up WoS Query Results</h1>
</div>
<div id="plotting-wos-query-results" class="section level1">
<h1>Plotting WoS Query Results</h1>
</div>
<div id="exporting-publication-information" class="section level1">
<h1>Exporting Publication Information</h1>
<p><br/>
Some other thoughts that I wanted to mention before signing off:</p>
<p>As always, please reach out if have questions, comments, or ideas related to this post!</p>
</div>

    </div>

    




    






<div class="media author-card" itemscope itemtype="http://schema.org/Person">
  
  <img class="portrait mr-3" src="/img/sheila_portrait_cartoon.png" itemprop="image" alt="Avatar">
  
  <div class="media-body">
    <h5 class="card-title" itemprop="name"><a href="/">sheila m. saia, PhD</a></h5>
    <h6 class="card-subtitle">Postdoctoral Researcher</h6>
    
    <ul class="network-icon" aria-hidden="true">
      
      
      
      
        
      
      
      
      
      
      <li>
        <a itemprop="sameAs" href="mailto:ssaia@ncsu.edu" >
          <i class="fas fa-envelope"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="//twitter.com/sheilasaia" >
          <i class="fab fa-twitter"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="//github.com/sheilasaia" >
          <i class="fab fa-github"></i>
        </a>
      </li>
      
      
      
      
        
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://www.linkedin.com/in/sheila-m-saia-69427292" target="_blank" rel="noopener">
          <i class="fab fa-linkedin"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="http://orcid.org/0000-0002-4943-0306" target="_blank" rel="noopener">
          <i class="ai ai-orcid"></i>
        </a>
      </li>
      
      
      
      
      
      
      
      
        
      
      <li>
        <a itemprop="sameAs" href="https://scholar.google.com/citations?user=B_fOa2oAAAAJ&amp;hl=en" target="_blank" rel="noopener">
          <i class="ai ai-google-scholar"></i>
        </a>
      </li>
      
    </ul>
  </div>
</div>




    
    

    

    


  </div>
</article>

<div class="container">
  <footer class="site-footer">
  

  <p class="powered-by">
    &copy; 2018 &middot; 

    Powered by the
    <a href="https://sourcethemes.com/academic/" target="_blank" rel="noopener">Academic theme</a> for
    <a href="https://gohugo.io" target="_blank" rel="noopener">Hugo</a>.

    
    <span class="float-right" aria-hidden="true">
      <a href="#" id="back_to_top">
        <span class="button_icon">
          <i class="fas fa-chevron-up fa-2x"></i>
        </span>
      </a>
    </span>
    
  </p>
</footer>

</div>


<div id="modal" class="modal fade" role="dialog">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Cite</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <pre><code class="tex hljs"></code></pre>
      </div>
      <div class="modal-footer">
        <a class="btn btn-outline-primary my-1 js-copy-cite" href="#" target="_blank">
          <i class="fas fa-copy"></i> Copy
        </a>
        <a class="btn btn-outline-primary my-1 js-download-cite" href="#" target="_blank">
          <i class="fas fa-download"></i> Download
        </a>
        <div id="modal-error"></div>
      </div>
    </div>
  </div>
</div>

    

    
    

    
    
    
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.3/imagesloaded.pkgd.min.js" integrity="sha512-umsR78NN0D23AzgoZ11K7raBD+R6hqKojyBZs1w8WvYlsI+QuKRGBx3LFCwhatzBunCjDuJpDHwxD13sLMbpRA==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha256-VsEqElsCHSGmnmHXGQzvoWjWwoznFSZc6hs7ARLRacQ=" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.4/isotope.pkgd.min.js" integrity="sha512-VDBOIlDbuC4VWxGJNmuFRQ0Li0SKkDpmGyuhAG5LTDLd/dJ/S0WMVxriR2Y+CyPL5gzjpN4f/6iqWVBJlht0tQ==" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" integrity="sha256-X5PoE3KU5l+JcX+w09p/wHl9AzK333C4hJ2I9S5mD4M=" crossorigin="anonymous"></script>

      
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>
        
      

      
      
    

    
    

    
    
    

    
    
    <script>hljs.initHighlightingOnLoad();</script>
    

    

    
    

    

    
    

    
    

    
    
    
    
    
    
    
    
    <script src="/js/academic.min.d037ee5294b166a79dec317c58aea9cc.js"></script>

    

  </body>
</html>

